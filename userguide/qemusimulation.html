
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Simulating with QEMU &#8212; Freedom E SDK v201908 documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="Creating a Standalone Project" href="standalone.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="simulating-with-qemu">
<h1>Simulating with QEMU<a class="headerlink" href="#simulating-with-qemu" title="Permalink to this headline">¶</a></h1>
<p>Freedom E SDK comes with a number of targets for simulating SiFive RISC-V cores
with QEMU, including:</p>
<blockquote>
<div><ul class="simple">
<li>qemu-sifive-e31</li>
<li>qemu-sifive-s51</li>
<li>qemu-sifive-u54</li>
<li>qemu-sifive-u54mc</li>
</ul>
</div></blockquote>
<div class="section" id="building-for-a-qemu-target">
<h2>Building for a QEMU Target<a class="headerlink" href="#building-for-a-qemu-target" title="Permalink to this headline">¶</a></h2>
<p>Compiling a bare-metal RISC-V program for QEMU targets is much the same as for
any other target in Freedom E SDK</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>make <span class="o">[</span><span class="nv">PROGRAM</span><span class="o">=</span>hello<span class="o">]</span> <span class="o">[</span><span class="nv">TARGET</span><span class="o">=</span>qemu-sifive-e31<span class="o">]</span> <span class="o">[</span><span class="nv">CONFIGURATION</span><span class="o">=</span>debug<span class="o">]</span> software
</pre></div>
</div>
<p>The square brackets in the above command indicate optional parameters for the
Make invocation. As you can see, the default values of these parameters tell
the build script to build the <code class="docutils literal notranslate"><span class="pre">hello</span></code> example for the <code class="docutils literal notranslate"><span class="pre">qemu-sifive-e31</span></code> target
using the <code class="docutils literal notranslate"><span class="pre">debug</span></code> build configuration. If, for example, you wished to build
the <code class="docutils literal notranslate"><span class="pre">timer-interrupt</span></code> example for the <code class="docutils literal notranslate"><span class="pre">qemu-sifive-u54mc</span></code> target using
the <code class="docutils literal notranslate"><span class="pre">release</span></code> build configuration, you would instead run the command</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>make <span class="nv">PROGRAM</span><span class="o">=</span>timer-interrupt <span class="nv">TARGET</span><span class="o">=</span>qemu-sifive-u54mc <span class="nv">CONFIGURATION</span><span class="o">=</span>release software
</pre></div>
</div>
</div>
<div class="section" id="running-in-qemu-simulation">
<h2>Running in QEMU Simulation<a class="headerlink" href="#running-in-qemu-simulation" title="Permalink to this headline">¶</a></h2>
<p>Running a program in qemu simulation is as easy as invoking the <code class="docutils literal notranslate"><span class="pre">simulate</span></code>
make target:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>make <span class="o">[</span><span class="nv">PROGRAM</span><span class="o">=</span>hello<span class="o">]</span> <span class="o">[</span><span class="nv">TARGET</span><span class="o">=</span>qemu-sifive-e31<span class="o">]</span> <span class="o">[</span><span class="nv">CONFIGURATION</span><span class="o">=</span>debug<span class="o">]</span> simulate
</pre></div>
</div>
</div>
<div class="section" id="cleaning-a-target-program-build-directory">
<h2>Cleaning a Target Program Build Directory<a class="headerlink" href="#cleaning-a-target-program-build-directory" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">clean</span></code> target can be used to restore a target program’s directory to a clean state.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>make <span class="o">[</span><span class="nv">PROGRAM</span><span class="o">=</span>hello<span class="o">]</span> <span class="o">[</span><span class="nv">TARGET</span><span class="o">=</span>qemu-sifive-e31<span class="o">]</span> <span class="o">[</span><span class="nv">CONFIGURATION</span><span class="o">=</span>debug<span class="o">]</span> clean
</pre></div>
</div>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">Freedom E SDK</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../contents.html">Contents of the SDK</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../userguide.html">User Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="installing.html">Installing Freedom E SDK</a></li>
<li class="toctree-l2"><a class="reference internal" href="buildingdevboard.html">Building for a Dev Board or FPGA</a></li>
<li class="toctree-l2"><a class="reference internal" href="standalone.html">Creating a Standalone Project</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Simulating with QEMU</a></li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="../userguide.html">User Guide</a><ul>
      <li>Previous: <a href="standalone.html" title="previous chapter">Creating a Standalone Project</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2019, SiFive Inc..
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.7.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.11</a>
      
      |
      <a href="../_sources/userguide/qemusimulation.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>